/*! pair_week4_vent 2015-10-13 */
function randomIndex(a,b){return Math.floor(Math.random()*(1+b-a)+a)}var preAdjective=[],adjective=[],noun=[];$(document).ready(function(){$(".ventBox").append("<p>retrieving data...</p>"),$.when(console.log("When starting"),$.ajax({url:"/data/preadjective",success:function(a){$.each(a,function(){preAdjective.push(this.name)})}}),$.ajax({url:"/data/adjective",success:function(a){$.each(a,function(){adjective.push(this.name)})}}),$.ajax({url:"/data/noun",success:function(a){$.each(a,function(){noun.push(this.name)})}})).then(function(){console.log("When in the... then"),$(".ventBox").children().remove(),$("body").prepend('<button class="ventButton">Vent?</button>')}),$("body").on("click",".ventButton",function(){$(".ventBox").children().remove();var a=preAdjective[randomIndex(0,preAdjective.length-1)],b=adjective[randomIndex(0,adjective.length-1)],c=noun[randomIndex(0,noun.length-1)];$(".ventBox").append("<p>"+a+" "+b+" "+c+"</p>");var d=c.charAt(0);["a","e","i","o","u"].indexOf(d)>-1?(console.log(d),$(".ventBox").append('<p class="insult">you\'re an '+c+"</p>")):$(".ventBox").append('<p class="insult">you\'re a '+c+"</p>")})});